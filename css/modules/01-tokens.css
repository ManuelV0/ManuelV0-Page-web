/* =========================================================
   01) TOKENS — Design System (fondazioni del tema)
   - Colori (base, ruoli, stati, social)
   - Tipografia (scala fluida, family)
   - Spazi, raggi, ombre, layer, dimensioni contenitore
   - Breakpoint semantici
   - Motion & accessibility
   - Dark mode (data-theme="dark") + fallback prefers-color-scheme
   ========================================================= */

/* -----------------------
   Palette base + ruoli
   ----------------------- */
:root {
  /* Brand */
  --c-primario:           #2E7D32;         /* verde principale */
  --c-primario-600:       #1B5E20;
  --c-primario-500:       #2E7D32;
  --c-primario-400:       #43A047;
  --c-primario-hover:     #2b6f2e;

  /* Neutri & superfici */
  --c-sfondo:             #F6F7F9;         /* background app */
  --c-superficie:         #FFFFFF;         /* carte, header */
  --c-elevata:            #FBFBFD;         /* superfici più “airy” */
  --c-bordi:              #E6E8EC;
  --c-ombra:              rgba(0, 0, 0, 0.08);

  /* Testo */
  --c-testo:              #1F2328;
  --c-testo-leggero:      #59636E;
  --c-muted:              #8A94A2;

  /* Ruoli */
  --c-secondario:         #1976D2;         /* azzurro link/CTA sec. */
  --c-secondario-hover:   #1565C0;

  --c-successo:           #2E7D32;
  --c-successo-bg:        #E8F5E9;
  --c-warning:            #ED6C02;
  --c-warning-bg:         #FFF4E5;
  --c-errore:             #D32F2F;
  --c-errore-bg:          #FDECEA;
  --c-info:               #0288D1;
  --c-info-bg:            #E3F2FD;

  /* Speciali */
  --c-stelle:             #FFC107;
  --c-oro:                #FFD700;
  --c-argento:            #C0C0C0;
  --c-bronzo:             #CD7F32;

  /* Social (CTA pronte) */
  --c-google:             #4285F4;
  --c-ig-1:               #405DE6;         /* Instagram gradient */
  --c-ig-2:               #833AB4;
  --c-ig-3:               #C13584;

  /* Gradients utili */
  --g-cta:                linear-gradient(45deg, var(--c-primario-600), var(--c-primario-400));
  --g-ig:                 linear-gradient(45deg, var(--c-ig-1), var(--c-ig-2), var(--c-ig-3));

  /* -----------------------
     Tipografia
     ----------------------- */
  --font-body:            'Open Sans', system-ui, -apple-system, Segoe UI, Roboto, Arial, sans-serif;
  --font-heading:         'Montserrat', ui-sans-serif, system-ui, -apple-system, Segoe UI, Roboto, Arial, sans-serif;

  /* Scala fluida (clamp) — ritmata per titoli */
  --fs-hero:              clamp(2rem, 4vw + 1rem, 3rem);
  --fs-h1:                clamp(1.6rem, 2.8vw, 2.2rem);
  --fs-h2:                clamp(1.3rem, 2.2vw, 1.8rem);
  --fs-h3:                clamp(1.1rem, 1.6vw, 1.35rem);
  --fs-base:              1rem;           /* 16px */
  --fs-sm:                0.9375rem;      /* 15px */
  --fs-xs:                0.875rem;       /* 14px */

  /* Altezza linea & peso */
  --lh-tight:             1.25;
  --lh-normal:            1.7;
  --fw-regular:           400;
  --fw-semibold:          600;
  --fw-bold:              700;
  --fw-extrabold:         800;

  /* -----------------------
     Spaziatura (scala 4-8)
     ----------------------- */
  --s-1:                  0.25rem;  /* 4px  */
  --s-2:                  0.5rem;   /* 8px  */
  --s-3:                  0.75rem;  /* 12px */
  --s-4:                  1rem;     /* 16px */
  --s-5:                  1.25rem;  /* 20px */
  --s-6:                  1.5rem;   /* 24px */
  --s-8:                  2rem;     /* 32px */
  --s-10:                 2.5rem;   /* 40px */
  --s-12:                 3rem;     /* 48px */

  /* -----------------------
     Raggi, ombre, layer
     ----------------------- */
  --r-sm:                 8px;
  --r-md:                 12px;
  --r-lg:                 16px;
  --r-pill:               999px;

  --shadow-1:             0 4px 12px var(--c-ombra);
  --shadow-2:             0 8px 24px rgba(0, 0, 0, 0.06);
  --shadow-strong:        0 12px 28px rgba(0, 0, 0, 0.12);

  /* Layer (z-index semantic) */
  --z-header:             1000;
  --z-overlay:            2000;
  --z-toast:              2100;

  /* -----------------------
     Layout
     ----------------------- */
  --header-h:             70px;
  --max-w:                1200px;
  --container-pad:        var(--s-4);

  /* -----------------------
     Breakpoint semantici
     ----------------------- */
  /* sm: ≥480px; md: ≥768px; lg: ≥1024px; xl: ≥1440px */
  --bp-sm:                480px;
  --bp-md:                768px;
  --bp-lg:                1024px;
  --bp-xl:                1440px;

  /* -----------------------
     Motion & timing
     ----------------------- */
  --ease:                 cubic-bezier(.2, .6, .2, 1);
  --t-quick:              120ms var(--ease);
  --t-normal:             200ms var(--ease);
  --t-slow:               320ms var(--ease);
}

/* =========================================================
   Dark Mode (toggle con <html data-theme="dark">)
   + fallback: se l’utente preferisce scuro, adatta automaticamente
   ========================================================= */
:root[data-theme="dark"] {
  --c-sfondo:       #0E1116;
  --c-superficie:   #0F141A;
  --c-elevata:      #0B0F14;
  --c-bordi:        #1E2630;
  --c-ombra:        rgba(0, 0, 0, 0.35);

  --c-testo:        #E6EAF0;
  --c-testo-leggero:#B5BECA;
  --c-muted:        #8C96A3;

  --c-primario:     #56C271;
  --c-primario-600: #3AA85A;
  --c-primario-400: #79D18E;
  --c-primario-hover:#45b764;

  --c-secondario:   #64B5F6;
  --c-secondario-hover:#4FA7F3;

  --c-successo-bg:  #0F2A18;
  --c-warning-bg:   #2A1E0F;
  --c-errore-bg:    #2A1210;
  --c-info-bg:      #0E2230;

  --shadow-1:       0 6px 18px rgba(0, 0, 0, .35);
  --shadow-2:       0 10px 28px rgba(0, 0, 0, .45);
}

@media (prefers-color-scheme: dark) {
  :root:not([data-theme]) {
    --c-sfondo:       #0E1116;
    --c-superficie:   #0F141A;
    --c-elevata:      #0B0F14;
    --c-bordi:        #1E2630;
    --c-ombra:        rgba(0, 0, 0, 0.35);

    --c-testo:        #E6EAF0;
    --c-testo-leggero:#B5BECA;
    --c-muted:        #8C96A3;

    --c-primario:     #56C271;
    --c-primario-600: #3AA85A;
    --c-primario-400: #79D18E;
    --c-primario-hover:#45b764;

    --c-secondario:   #64B5F6;
    --c-secondario-hover:#4FA7F3;

    --c-successo-bg:  #0F2A18;
    --c-warning-bg:   #2A1E0F;
    --c-errore-bg:    #2A1210;
    --c-info-bg:      #0E2230;

    --shadow-1:       0 6px 18px rgba(0, 0, 0, .35);
    --shadow-2:       0 10px 28px rgba(0, 0, 0, .45);
  }
}

/* =========================================================
   Accessibilità aggiuntiva
   ========================================================= */
/* Riduzione motion: azzera le animazioni “non essenziali” */
@media (prefers-reduced-motion: reduce) {
  :root {
    --t-quick: 1ms linear;
    --t-normal: 1ms linear;
    --t-slow: 1ms linear;
  }
}

/* Focus ring centralizzato (usalo nei moduli con :focus-visible se serve) */
:root {
  --focus-ring-color:      var(--c-secondario-hover);
  --focus-ring-offset:     2px;
  --focus-ring-width:      3px;
}

/* Evidenzia selezione testo coerente con il tema */
::selection {
  background: color-mix(in srgb, var(--c-primario) 25%, transparent);
  color: var(--c-superficie);
}