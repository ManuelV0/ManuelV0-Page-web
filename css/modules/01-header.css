/* 01-HEADER — responsive, stacked, hamburger */

/* Struttura generale */
.main-header.main-header--stacked{
  display:flex;
  flex-direction:column;
  align-items:center;
  gap:12px;
  padding:14px var(--spazio-md,16px);
  border-bottom:1px solid var(--c-bordi,#eee);
  background:var(--c-superficie,#fff);
  position:relative;
  z-index:1000;
}

/* Brand */
.header-brand{
  display:flex;
  align-items:center;
  gap:10px;
}
.header-brand .brand-title{
  font-family:var(--font-heading,'Montserrat',system-ui,sans-serif);
  font-weight:800;
  font-size:clamp(1.25rem,2.2vw,1.8rem);
  letter-spacing:.2px;
  line-height:1.1;
}

/* Toggle hamburger: visibile solo <768px */
.mobile-nav-toggle{
  display:inline-flex;
  align-items:center;
  gap:8px;
  background:none;
  border:0;
  padding:6px 10px;
  font:inherit;
  cursor:pointer;
  border-radius:8px;
  transition:background .15s ease,color .15s ease;
}
.mobile-nav-toggle:hover{
  background:color-mix(in oklab, var(--c-primario,#2e7d32) 10%, transparent);
  color:var(--c-primario,#2e7d32);
}
@media (min-width:768px){
  .mobile-nav-toggle{ display:none; }
}

/* Nav centrata */
.main-nav.main-nav--centered{
  display:flex;
  flex-wrap:wrap;
  justify-content:center;
  gap:10px 16px;
  max-width:100%;
}

/* Voci di menu (a + button) */
.main-nav.main-nav--centered a,
.main-nav.main-nav--centered button{
  appearance:none;
  background:none;
  border:0;
  padding:6px 10px;
  font:inherit;
  color:var(--c-testo,#222);
  cursor:pointer;
  border-radius:8px;
  transition:color .15s ease, background .15s ease;
  text-decoration:none;
  white-space:nowrap;
}
.main-nav.main-nav--centered a:hover,
.main-nav.main-nav--centered button:hover{
  color:var(--c-primario,#2e7d32);
  background:color-mix(in oklab, var(--c-primario,#2e7d32) 8%, transparent);
}
.main-nav .is-active{
  color:var(--c-primario,#2e7d32);
  text-decoration:underline;
  text-underline-offset:4px;
}

/* Header actions */
.header-actions.header-actions--centered{
  display:flex;
  flex-wrap:wrap;
  justify-content:center;
  gap:8px;
  width:100%;
}

/* Chip utente */
.user-chip{
  display:inline-flex;
  align-items:center;
  gap:8px;
  padding:4px 8px;
  border:1px solid var(--c-bordi,#e5e5e5);
  border-radius:999px;
  background:#fff;
}
.chip-email{
  font-size:.85rem;
  color:var(--c-testo-leggero,#666);
  max-width:38ch;
  overflow:hidden;
  text-overflow:ellipsis;
}

/* --- Comportamento responsive (mobile) ------------------ */
/* Su mobile il menu è nascosto di default e si mostra con data-visible="true" */
@media (max-width:767.98px){
  .main-nav[data-visible="false"],
  .header-actions[data-visible="false"]{ display:none; }

  .main-nav[data-visible="true"],
  .header-actions[data-visible="true"]{
    display:flex;
  }

  /* Stack verticale fra nav e actions */
  .main-nav{ width:100%; }
  .header-actions{ width:100%; }
}

/* --- Comportamento desktop/tablet ----------------------- */
/* Da tablet in su: nav + actions sempre visibili, ignorano data-visible */
@media (min-width:768px){
  .main-nav{ display:flex !important; }
  .header-actions{ display:flex !important; }
}