/* =========================================================
   04) HERO & CARD — sezione di apertura + blocchi contenuto
   Compatibile con:
   - .hero-section  > .hero-content (h1, p, .hero-cta?)
   - .card-section  > .card-content (h2, p, ecc.)
   - .section-title (titoli interni pagina)
   ========================================================= */

/* -----------------------------
   4.1 HERO wrapper
   ----------------------------- */
.hero-section {
  position: relative;
  isolation: isolate;
  background:
    linear-gradient( to bottom, rgba(0,0,0,.55), rgba(0,0,0,.35) ),
    url('https://images.unsplash.com/photo-1455390582262-044cdead277a?q=80&w=2400&auto=format&fit=crop')
      center/cover no-repeat;
  color: #fff;
  text-align: center;
  padding: clamp(2.5rem, 5vw, 5rem) var(--container-pad);
  margin-block: 0 var(--s-3);
  border-bottom: 1px solid color-mix(in srgb, #fff 12%, transparent);
}

.hero-content {
  max-width: min(62ch, 95%);
  margin-inline: auto;
  display: grid;
  gap: var(--s-2);
  animation: hero-fade .6s ease both;
}

.hero-content h1 {
  font-family: var(--font-heading);
  font-weight: var(--fw-extrabold);
  line-height: 1.18;
  letter-spacing: .2px;
  text-wrap: balance;
  font-size: clamp(1.6rem, 3.5vw, 2.4rem);
  text-shadow: 0 2px 20px rgba(0,0,0,.35);
}

.hero-content p {
  font-size: clamp(.98rem, 1.2vw, 1.1rem);
  opacity: .95;
  text-shadow: 0 1px 10px rgba(0,0,0,.3);
}

/* CTA opzionali nel hero */
.hero-actions {
  display: inline-flex;
  flex-wrap: wrap;
  gap: .6rem;
  justify-content: center;
  margin-top: .25rem;
}
.hero-actions .button-primary {
  box-shadow: 0 10px 24px rgba(0,0,0,.22);
}

/* Decorazione leggera sotto il hero */
.hero-section::after {
  content: '';
  position: absolute; inset: auto 0 -1px 0;
  height: 24px;
  background: radial-gradient(50% 12px at 50% 0, rgba(0,0,0,.08), transparent 70%);
  pointer-events: none;
}

/* -----------------------------
   4.2 TITOLI DI SEZIONE
   ----------------------------- */
.section-title {
  font-family: var(--font-heading);
  font-weight: var(--fw-bold);
  font-size: clamp(1.25rem, 2.2vw, 1.6rem);
  color: var(--c-primario);
  margin-bottom: var(--s-2);
  position: relative;
  padding-bottom: .35rem;
}
.section-title::after {
  content: '';
  position: absolute;
  left: 0; bottom: 0;
  width: 56px; height: 3px;
  border-radius: 2px;
  background: var(--c-primario);
  box-shadow: 0 2px 8px color-mix(in srgb, var(--c-primario) 35%, transparent);
}

/* -----------------------------
   4.3 CARD SECTION (contenitori)
   Struttura:
   .card-section > .card-content
   ----------------------------- */
.card-section {
  background: var(--c-superficie);
  border: 1px solid var(--c-bordi);
  border-radius: var(--radius-lg);
  box-shadow: var(--shadow-md);
  padding: clamp(1rem, 2.2vw, 1.5rem);
  margin-block: var(--s-2);
  transition: border-color var(--t-quick), box-shadow var(--t-quick), transform var(--t-quick);
}

.card-section:hover {
  border-color: color-mix(in srgb, var(--c-primario) 25%, var(--c-bordi));
  box-shadow: 0 12px 28px rgba(0,0,0,.08);
  transform: translateY(-2px);
}

.card-content {
  display: grid;
  gap: .75rem;
  max-width: 70ch;
  margin-inline: auto;
  text-align: center;
}

.card-content h2 {
  font-family: var(--font-heading);
  font-weight: var(--fw-bold);
  color: var(--c-primario);
  font-size: clamp(1.15rem, 2vw, 1.45rem);
  letter-spacing: .2px;
  position: relative;
  padding-bottom: .3rem;
  margin-bottom: .25rem;
}
.card-content h2::after {
  content: '';
  position: absolute;
  bottom: 0; left: 50%;
  translate: -50% 0;
  width: 56px; height: 3px;
  border-radius: 2px;
  background: var(--c-primario);
}

.card-content p {
  color: var(--c-testo);
  opacity: .95;
  line-height: 1.7;
  font-size: clamp(.98rem, 1.2vw, 1.05rem);
}

/* -----------------------------
   4.4 VARIANTI DI CARD (utili al volo)
   ----------------------------- */
.card--accent      { border-color: color-mix(in srgb, var(--c-secondario) 25%, var(--c-bordi)); }
.card--accent h2   { color: var(--c-secondario); }
.card--flat        { box-shadow: none; }
.card--flush       { padding: 0; }
.card--wide        { max-width: 100%; }
.card--left .card-content  { text-align: left; margin-inline: 0; }
.card--center .card-content{ text-align: center; }

.card-section .button,
.card-section .btn {
  justify-self: center;
}

/* -----------------------------
   4.5 RESPONSIVE LAYOUT D’INSIEME
   - contenitore pagina (coerente con 02-base)
   ----------------------------- */
.container {
  width: min(1200px, 100%);
  margin-inline: auto;
  padding-inline: var(--container-pad);
  display: grid;
  gap: var(--s-2);
}

/* Tablet: possibilità di affiancare card */
@media (min-width: 768px) {
  .cards-grid-2 {
    display: grid;
    grid-template-columns: repeat(2, minmax(0,1fr));
    gap: var(--s-2);
  }
  .cards-grid-3 {
    display: grid;
    grid-template-columns: repeat(3, minmax(0,1fr));
    gap: var(--s-2);
  }
}

/* Desktop: respiro maggiore */
@media (min-width: 1024px) {
  .container { gap: var(--s-3); }
}

/* -----------------------------
   4.6 ANIMAZIONI
   ----------------------------- */
@keyframes hero-fade {
  from { opacity: 0; translate: 0 6px; }
  to   { opacity: 1; translate: 0 0; }
}

/* -----------------------------
   4.7 DARK MODE (opzionale)
   ----------------------------- */
@media (prefers-color-scheme: dark) {
  .hero-section { border-bottom-color: color-mix(in srgb, #fff 8%, transparent); }
  .card-section { border-color: color-mix(in srgb, var(--c-bordi) 60%, #000); }
  .card-section:hover {
    border-color: color-mix(in srgb, var(--c-primario) 25%, var(--c-bordi));
    box-shadow: 0 14px 30px rgba(0,0,0,.28);
  }
}
